<h1>Playground</h1>
<div class="sandbox-wrapper">
    <div class="editor">
        <textarea id="code-input" class="input" spellcheck="false"></textarea>
        <div id="code-output" class="output language-javascript"></div>
    </div>
    <div class="result"></div>
</div>
<div>
    <button class="run-button">Run</button>
    <button class="link-button">Link</button>
</div>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script>
  const consolePlugin = function (babel) {
    const { types: t } = babel;

    return {
      visitor: {
        ExpressionStatement(path) {
          const { expression, trailingComments } = path.node;
          if (trailingComments && trailingComments[0] && trailingComments[0].value.startsWith(' ->')) {
            if (
              expression.type === 'CallExpression' &&
              expression.callee.type === 'MemberExpression' &&
              expression.callee.object.name === 'console'
            ) return;
            path.replaceWith(
              t.callExpression(
                t.memberExpression(t.identifier('console'), t.identifier('log')),
                [t.clone(expression)],
              )
            );
          }
        }
      }
    };
  }

  Babel.registerPlugin('console-plugin', consolePlugin);
</script>
